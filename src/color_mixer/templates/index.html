<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Colour Mixer</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
  </head>

  <body>
    <!-- Shared background for ALL tabs -->
    <div id="chaos" class="hard-bg">
      <div class="filtered-bg">
        <!-- Tabs live inside the shared background -->
        <div class="swatches-view">
          <div class="topnav">
            <div class="tabwrap" role="tablist" aria-selected="true">
              <span class="slider" aria-hidden="true"></span>
              <button
                class="tab is-active"
                role="tab"
                aria-selected="true"
                aria-controls="tab-mix"
                id="tab-btn-mix"
              >
                Mixer
              </button>
              <button
                class="tab"
                role="tab"
                aria-selected="false"
                aria-controls="tab-blank"
                id="tab-btn-blank"
              >
                Lab
              </button>
            </div>
          </div>
          <div class="tabpanel-wrap">
            <!-- Panel: Mixer -->
            <section
              id="tab-mix"
              class="tab-panel is-active"
              role="tabpanel"
              aria-labelledby="tab-btn-mix"
            >
              <div class="layout">
                <div class="sidebar">
                  <div class="app-title">
                    <h1>Colour Mixer</h1>
                  </div>
                  <div class="controls">
                    <form id="mixform" autocomplete="off">
                      <label>
                        Colour A
                        <input
                          type="text"
                          id="colA"
                          placeholder="#ff0000"
                          maxlength="7"
                          pattern="^#[0-9A-Fa-f]{6}$"
                          value="#ff0000"
                          required
                        />
                      </label>
                      <label>
                        Colour B
                        <input
                          type="text"
                          id="colB"
                          placeholder="#0000ff"
                          maxlength="7"
                          pattern="^#[0-9A-Fa-f]{6}$"
                          value="#0000ff"
                          required
                        />
                      </label>
                      <label class="algo-label">
                        Algorithm
                        <div class="algo-prefix-container" id="algo-dropdown">
                          <span class="algo-outer-cont">
                            <button
                              type="button"
                              class="algo-trigger"
                              id="algo-trigger"
                            >
                              Oklab
                            </button>
                            <span class="arrow down"></span>
                          </span>
                          <div class="algo-menu" id="algo-menu"></div>
                        </div>
                      </label>
                      <label>
                        Steps
                        <div class="number-field">
                          <input
                            type="number"
                            id="steps"
                            value="27"
                            min="3"
                            max="100"
                          />
                          <button
                            type="button"
                            class="step-increment-btn"
                            aria-label="Increment"
                          >
                            +
                          </button>
                          <button
                            type="button"
                            class="step-decrement-btn"
                            aria-label="Decrement"
                          >
                            −
                          </button>
                        </div>
                      </label>
                      <button class="mix-btn" type="submit">Mix</button>
                    </form>
                  </div>
                </div>
                <div class="swatches-panel">
                  <div id="swatches"></div>
                </div>
              </div>
            </section>

            <!-- Panel: Blank (second feature goes here, state persists) -->
            <section
              id="tab-blank"
              class="tab-panel"
              role="tabpanel"
              aria-labelledby="tab-btn-blank"
            >
              <div class="lab-ui">
                <textarea
                  id="ghostty-src"
                  class="lab-box"
                  placeholder="Paste Ghostty theme here…"
                  spellcheck="false"
                ></textarea>

                <div class="lab-actions">
                  <button
                    type="button"
                    class="lab-generate"
                    id="ghostty-generate"
                  >
                    Generate
                  </button>

                  <!-- optional -->
                  <button
                    type="button"
                    class="icon-btn"
                    id="lab-copy"
                    title="Copy all"
                    aria-label="Copied"
                  >
                    <svg
                      viewBox="0 0 24 24"
                      width="18"
                      height="18"
                      aria-hidden="true"
                    >
                      <path
                        d="M9 3h6a1 1 0 0 1 1 1v1h1.25A1.75 1.75 0 0 1 19 6.75v11.5A1.75 1.75 0 0 1 17.25 20H6.75A1.75 1.75 0 0 1 5 18.25V6.75A1.75 1.75 0 0 1 6.75 5H8V4a1 1 0 0 1 1-1Z"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <rect
                        x="9"
                        y="3"
                        width="6"
                        height="3.5"
                        rx="0.75"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                      />
                    </svg>
                  </button>
                  <div class="format-prefix-container" id="format-dropdown">
                    <span class="format-outer-cont">
                      <button
                        type="button"
                        class="format-trigger"
                        id="format-trigger"
                        data-trigger
                      >
                        CSS
                      </button>
                      <span class="arrow down"></span>
                    </span>
                    <div class="format-menu" id="format-menu" data-menu></div>
                  </div>
                </div>

                <div
                  id="ghostty-css"
                  class="lab-box lab-output"
                  aria-label="Generated CSS variables"
                ></div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
